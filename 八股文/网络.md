### 1、请画出TCP的头部。

![](https://github.com/SongLee24/LeetCode-Go/blob/main/%E5%85%AB%E8%82%A1%E6%96%87/images/tcp-header.png?raw=true)

### 2、TCP 和 UDP 的区别？

* <font color=red>TCP是稳定、可靠、面向连接的传输层协议，它在传递数据前要三次握手建立连接，在数据传递时，有确认机制、重传机制、流量控制、拥塞控制等，可以保证数据的正确性和有序性。</font>

* <font color=red>UDP是无连接的数据传输协议，端与端之间不需要建立连接，且没有类似TCP的那些机制，会发生丢包、乱序等情况。</font>

* <font color=red>TCP是数据流模式，而UDP是数据报模式。</font>

### 3、为什么 TCP 叫数据流模式？ UDP 叫数据报模式？

* <font color=red><b>所谓的“流模式”</b>，是指TCP发送端发送几次数据和接收端接收几次数据是没有必然联系的，比如你通过 TCP 连接给另一端发送数据，你只调用了一次 write，发送了100个字节，但是对方可以分10次收完，每次10个字节；你也可以调用10次 write，每次10个字节，但是对方可以一次就收完。</font>

    * <font color=red>原因：这是因为TCP是面向连接的，一个 socket 中收到的数据都是由同一台主机发出，且有序地到达，所以每次读取多少数据都可以。</font>

* <font color=red><b>所谓的“数据报模式”</b>，是指UDP发送端调用了几次 write，接收端必须用相同次数的 read 读完。UDP 是基于报文的，在接收的时候，每次最多只能读取一个报文，报文和报文是不会合并的，如果缓冲区小于报文长度，则多出的部分会被丢弃。</font>

    * <font color=red>原因：这是因为UDP是无连接的，只要知道接收端的 IP 和端口，任何主机都可以向接收端发送数据。 这时候， 如果一次能读取超过一个报文的数据， 则会乱套。</font>

